<div [@playerShow] *ngIf="playerShow" class="dialog">
  <div class="title d-flex">
    <img src="{{player.imgUrl}}">
    <h4> {{player.name}}</h4>
    <div *ngIf="player.playerJobs" class="d-flex">
      <div *ngFor="let job of player.playerJobs">
        <div *ngIf="job.isMain">
          <img (click)="getGear(job.job.id, job.wishitem.id); index = 0" height="60px" src="{{job.job.image.imgpath |imgpath }}">
          <div style="color: #FFF; font-weight: bold"> {{job.wishitem.id}}</div>
        </div>
        <div *ngIf="job.isSub">
          <img height="40px" (click)="getGear(job.job.id, job.wishitem.id); index = job.ord" src="{{job.job.image.imgpath |imgpath }}">
          <div style="color: #FFF; font-weight: bold"> {{job.wishitem.id}}</div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="player.playerJobs.length > 0">
    <div>
      <div>
        <h1 class="" style="font-family: FFXIV;text-align: center; color: #FFF;">{{player.playerJobs[index].job.name}}</h1>
      </div>
      <div>
        <div>Head</div>
        <div *ngIf="!wishItem.head">
          <img (click)="gearShow= !gearShow; getSlotStuff(3)" src="https://xivapi.com/img-misc/gear/head.png">
        </div>
        <div *ngIf="wishItem.head">
          <img (click)="gearShow= !gearShow;getSlotStuff(3)" matTooltip="{{wishItem.head.name}}" src="{{wishItem.head.imgUrl}}"/>
        </div>
      </div>
    </div>
    <div>
      <div>Body</div>
      <div *ngIf="!wishItem.body">
        <img (click)="gearShow= !gearShow;getSlotStuff(4)" src="https://xivapi.com/img-misc/gear/body.png">
      </div>
      <div *ngIf="wishItem.body">
        <img (click)="gearShow= !gearShow;getSlotStuff(4)" matTooltip="{{wishItem.body.name}}" src="{{wishItem.body.imgUrl}}"/>
      </div>
    </div>
    <div>
      <div>Hand</div>
      <div *ngIf="!wishItem.hands">
        <img (click)="gearShow= !gearShow;getSlotStuff(5)" src="https://xivapi.com/img-misc/gear/hands.png">
      </div>
      <div *ngIf="wishItem.hands">
        <img (click)="gearShow= !gearShow;getSlotStuff(5)" matTooltip="{{wishItem.hands.name}}" src="{{wishItem.hands.imgUrl}}"/>
      </div>
    </div>
    <div>
      <div>Waist</div>
      <div *ngIf="!wishItem.belt">
        <img (click)="gearShow= !gearShow;getSlotStuff(6)" src="https://xivapi.com/img-misc/gear/waist.png">
      </div>
      <div *ngIf="wishItem.belt">
        <img (click)="gearShow= !gearShow;getSlotStuff(6)" matTooltip="{{player.playerJobs[index].wishitem.belt.name}}" src="{{player.playerJobs[index].wishitem.belt.imgUrl}}"/>
      </div>
    </div>
    <div>
      <div>Legs</div>
      <div *ngIf="!wishItem.legs">
        <img (click)="getSlotStuff(7); gearShow= !gearShow;" src="https://xivapi.com/img-misc/gear/legs.png">
      </div>
      <div *ngIf="wishItem.legs">
        <img (click)="gearShow= !gearShow;getSlotStuff(7);" matTooltip="{{player.playerJobs[index].wishitem.legs.name}}" src="{{player.playerJobs[index].wishitem.legs.imgUrl}}"/>
      </div>
    </div>
    <div>
      <div>Feet</div>
      <div *ngIf="!wishItem.feet">
        <img (click)="gearShow= !gearShow;getSlotStuff(8)" src="https://xivapi.com/img-misc/gear/feet.png">
      </div>
      <div *ngIf="wishItem.feet">
        <img (click)="gearShow= !gearShow;getSlotStuff(8)" matTooltip="{{player.playerJobs[index].wishitem.feet.name}}" src="{{player.playerJobs[index].wishitem.feet.imgUrl}}"/>
      </div>
    </div>
    <app-select-gear [playerJobId]="player.playerJobs[index].id"
                     [jobItems]="jobItems"
                     [(gearShow)]="gearShow">
    </app-select-gear>
  </div>
  <div *ngIf="player.playerJobs.length == 0">
    <h5 style="color: #FFF">
      Please, choose a job to proceed
    </h5>
  </div>
</div>

<div *ngIf="playerShow" class="overlay" (click)="close()"></div>

